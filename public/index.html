<!DOCTYPE html>
<!-- Code With Gemini 3.0 Pro Also CL Prompt -->
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Typing Competition System</title>

    <!-- import css&js-->
    <script src="index.js"></script>
    <link rel="stylesheet" href="index.css">
</head>

<body>

    <div class="container">
        <!-- 1. Setup Screen -->
        <div id="setup-screen" class="screen active">
            <h1>üèÜüèÜ English Typing Competition</h1>

            <div class="row">
                <div class="col form-group">
                    <label for="student-name">Student Name:</label>
                    <input type="text" id="student-name" placeholder="Enter your full name" required="">
                </div>
                <div class="col form-group">
                    <label for="time-limit">Time Limit (Minutes):</label>
                    <input type="number" id="time-limit" value="1" min="1" max="60" disabled="">
                </div>
            </div>

            <div class="form-group">
                <label for="article-input">Text to Type:</label>
                <textarea id="article-input" style="height: 150px;" placeholder="Paste your text here..." readonly=""
                    disabled="">Technology has revolutionized the way we live, work, and communicate. In the digital age, typing is an essential skill that everyone should master. Whether you are writing an email, coding a program, or chatting with friends, speed and accuracy matter. Practice is the key to improvement. Keep your fingers on the home row and try to look at the screen instead of the keyboard.</textarea>
            </div>

            <button class="btn" onclick="goToGame()">Start Competition</button>

            <div style="text-align: center; margin-top: 15px;">
                <a href="window.location.href = window.location.href" onclick="clearLeaderboard()"
                    style="color: #999; font-size: 0.8rem;">Clear Leaderboard History</a>
            </div>
        </div>

        <!-- 2. Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div style="font-weight: bold; font-size: 1.2rem;" id="current-player-name">Player: ---</div>

                <!-- Feature 1: Real-time Stats -->
                <div class="live-stats">
                    <div class="live-stat-item">
                        <div class="live-stat-value" id="live-speed">0</div>
                        <div class="live-stat-label">WPM</div>
                    </div>
                    <div class="live-stat-item">
                        <div class="live-stat-value" id="live-accuracy">100%</div>
                        <div class="live-stat-label">Accuracy</div>
                    </div>
                </div>

                <div class="timer-box" id="timer-display">00:00</div>
            </div>

            <div class="text-display-area">
                <div>
                    <label>Reference Text:</label>
                    <div class="reference-text" id="game-reference-text"></div>
                </div>

                <div class="input-area">
                    <label>Your Input:</label>
                    <textarea id="student-input" placeholder="Start typing here..." spellcheck="false"></textarea>
                </div>
            </div>

            <button class="btn btn-danger" onclick="finishGame()">Submit / Finish</button>
        </div>

        <!-- 3. Result Screen -->
        <div id="result-screen" class="screen">
            <h1>üìäüìä Competition Results</h1>

            <!-- Feature 2: Final Score Calculation -->
            <div class="final-score-box">
                <div style="font-size: 1.2rem; opacity: 0.9;">Total Score</div>
                <div class="final-score-value" id="final-score">0</div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="res-name">---</div>
                    <div class="stat-label">Name</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="res-speed">0</div>
                    <div class="stat-label">Speed (WPM)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="res-accuracy">0%</div>
                    <div class="stat-label">Accuracy</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="res-count">0</div>
                    <div class="stat-label">Correct Chars</div>
                </div>
            </div>

            <!-- Feature 3: Leaderboard -->
            <div class="leaderboard-section">
                <h2>üèÜüèÜ Leaderboard (Top 10)</h2>
                <table id="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Name</th>
                            <th>Score</th>
                            <th>WPM</th>
                            <th>Accuracy</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="rank-1">#1</td>
                            <td style="font-weight:bold;">123 </td>
                            <td style="font-weight:bold; color:#2c3e50;">99999</td>
                            <td>999999</td>
                            <td>99999%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:34:26</td>
                        </tr>

                        <tr>
                            <td class="rank-2">#2</td>
                            <td style="font-weight:bold;">3302 </td>
                            <td style="font-weight:bold; color:#2c3e50;">440</td>
                            <td>44</td>
                            <td>100%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:11:11</td>
                        </tr>

                        <tr>
                            <td class="rank-3">#3</td>
                            <td style="font-weight:bold;">CHENG WING LAM </td>
                            <td style="font-weight:bold; color:#2c3e50;">317</td>
                            <td>32</td>
                            <td>99%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:30:26</td>
                        </tr>

                        <tr>
                            <td class="">#4</td>
                            <td style="font-weight:bold;">3316 </td>
                            <td style="font-weight:bold; color:#2c3e50;">300</td>
                            <td>30</td>
                            <td>100%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:23:27</td>
                        </tr>

                        <tr>
                            <td class="">#5</td>
                            <td style="font-weight:bold;">3329 </td>
                            <td style="font-weight:bold; color:#2c3e50;">300</td>
                            <td>30</td>
                            <td>100%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:25:39</td>
                        </tr>

                        <tr>
                            <td class="">#6</td>
                            <td style="font-weight:bold;">3329 </td>
                            <td style="font-weight:bold; color:#2c3e50;">300</td>
                            <td>30</td>
                            <td>100%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:28:23</td>
                        </tr>

                        <tr>
                            <td class="">#7</td>
                            <td style="font-weight:bold;">3315 </td>
                            <td style="font-weight:bold; color:#2c3e50;">300</td>
                            <td>30</td>
                            <td>100%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:29:55</td>
                        </tr>

                        <tr>
                            <td class="">#8</td>
                            <td style="font-weight:bold;">3329 </td>
                            <td style="font-weight:bold; color:#2c3e50;">297</td>
                            <td>30</td>
                            <td>99%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:27:04</td>
                        </tr>

                        <tr>
                            <td class="">#9</td>
                            <td style="font-weight:bold;">3316 </td>
                            <td style="font-weight:bold; color:#2c3e50;">290</td>
                            <td>29</td>
                            <td>100%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:17:51</td>
                        </tr>

                        <tr>
                            <td class="">#10</td>
                            <td style="font-weight:bold;">3315 </td>
                            <td style="font-weight:bold; color:#2c3e50;">290</td>
                            <td>29</td>
                            <td>100%</td>
                            <td style="font-size:0.8rem; color:#999;">2025-12-03 11:19:04</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Âú®ÁªìÊûúÂ±èÂπïÁöÑÊåâÈíÆÂå∫ÂüüÊ∑ªÂä† -->
            <div class="row" style="margin-top: 30px;">
                <button class="btn btn-secondary" onclick="resetGame()">Next Student</button>
                <button class="btn" onclick="refreshLeaderboard()" style="background-color: #27ae60;">Refresh
                    Leaderboard</button>
            </div>
        </div>
    </div>
</body>

</html>